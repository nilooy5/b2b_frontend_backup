<div class="b2b-breadcrumb">
    <a [routerLink]="['/','dashboard','fleet-management','assignments']">Fleet Management</a><span>/</span>
    <a [routerLink]="['/','dashboard','fleet-management','requests']">Requests</a> <span>/</span>
    <span>Create</span>
</div>
<div class="main-content-container">
    <div class="main-content-block">
        <div class="main-content-title">
            <h5 class="text-center">Request a Vehicle</h5>
        </div>
        <div class="main-content-block">
            <form class="center-form" [formGroup]="form" (submit)="submit()">
                <div class="form-group row">
                    <div class="form-item-label col-md-4">
                        <label for="Reason">Reason</label>
                    </div>
                    <div class="form-item col-md-8 horizontal">
                        <mat-form-field appearance="outline">
                            <input type="text" matInput id="Reason" formControlName="reason"
                                   placeholder="Meeting with client">
                        </mat-form-field>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="form-item-label col-md-4">
                        <label for="Details">Details</label>
                    </div>
                    <div class="form-item col-md-8 horizontal">
                        <mat-form-field appearance="outline">
                            <textarea [cdkTextareaAutosize]="true" cdkAutosizeMinRows="3" type="text" matInput
                                      id="Details" formControlName="details"
                                      placeholder="Write details ...."></textarea>
                        </mat-form-field>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="form-item-label col-md-4">
                        <label for="TripType" class="required">Trip Type</label>
                    </div>
                    <div class="form-item horizontal col-md-8">
                        <mat-form-field appearance="outline">
                            <mat-select formControlName="trip_type" placeholder="Select Trip Type" id="TripType">
                                <mat-option *ngFor="let item of tripTypes" [value]="item">
                                    {{item|hyphenStrip|titlecase}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <span class="mat-error" *ngIf="formInputInvalid('trip_type')">
                                <span *ngIf="form.get('trip_type').hasError('required')">Please select a Trip Type</span>
                        </span>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="form-item-label col-md-4">
                        <label for="PickUpAddress" class="required">Pickup Address</label>
                    </div>
                    <div class="form-item col-md-8 horizontal">
                        <mat-form-field appearance="outline">
                            <input type="text" matInput id="PickUpAddress" formControlName="pickup_address"
                                   placeholder="Write Address">
                        </mat-form-field>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="form-item-label col-md-4">
                        <label for="Drops" class="required">Drop off Address</label>
                    </div>
                    <div class="form-item col-md-8 horizontal">
                        <mat-form-field appearance="outline">
                            <input type="text" matInput id="Drops" formControlName="dropoff_address"
                                   placeholder="Write Address">
                        </mat-form-field>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="form-item-label col-md-4">
                        <label for="VehicleType" class="required">Vehicle Type</label>
                    </div>
                    <div class="form-item horizontal col-md-8">
                        <mat-form-field appearance="outline">
                            <mat-select formControlName="vehicle_type" placeholder="Select Vehicle Type"
                                        id="VehicleType">
                                <mat-option *ngFor="let item of vehicleTypes" [value]="item">
                                    {{item|hyphenStrip|titlecase}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <span class="mat-error" *ngIf="formInputInvalid('vehicle_type')">
                                <span *ngIf="form.get('vehicle_type').hasError('required')">Please select a Vehicle Type</span>
                        </span>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="form-item-label col-md-4">
                        <label for="Start Date" class="required">Start Time</label>
                    </div>
                    <div class="form-item col-md-8 horizontal">
                        <mat-form-field appearance="outline">
                            <input type="text" [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1" matInput id="Start Date"
                                   formControlName="start_date" [min]="today"
                                   placeholder="Choose a start time">
                            <i class="material-icons" matSuffix>today</i>
                        </mat-form-field>
                        <span class="mat-error"></span>
                        <owl-date-time #dt1 hour12Timer="true"></owl-date-time>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="form-item-label col-md-4">
                        <label for="end Time">End Time</label>
                    </div>
                    <div class="form-item col-md-8 horizontal">
                        <mat-form-field appearance="outline">
                            <input type="text" [owlDateTime]="dt2" [owlDateTimeTrigger]="dt2" matInput id="end Time"
                                   formControlName="end_date"
                                   [min]="form.get('start_date').value"
                                   placeholder="Choose an end time">
                            <i class="material-icons" matSuffix>today</i>
                        </mat-form-field>
                        <span class="mat-error"></span>
                        <owl-date-time #dt2 hour12Timer="true"></owl-date-time>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="form-item-label col-md-4">
                        <label for="NoOfSeats" class="required">No of seats</label>
                    </div>
                    <div class="form-item col-md-8 horizontal">
                        <mat-form-field appearance="outline">
                            <input type="text" matInput id="NoOfSeats" formControlName="no_of_seats"
                                   placeholder="Minimum (1)">
                        </mat-form-field>
                    </div>
                </div>
                <div class="flex pt-2 justify-content-center col-md-12">
                    <button class="button button-primary button-wide mr-3 position-relative" type="submit">
                        <span>Submit</span>
                        <span class="position-absolute right pr-2" *ngIf="submitting"><i class="fas fa-spinner fa-spin"></i></span></button>
                </div>
            </form>
        </div>
    </div>
</div>
